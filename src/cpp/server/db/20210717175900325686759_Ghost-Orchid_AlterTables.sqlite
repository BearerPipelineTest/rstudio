/* Adds the release_name column to the schema_version table. *//* Stores the version of the schema. */
DROP TABLE schema_version;

CREATE TABLE schema_version(
   /* The date at which this schema version was created. */
   current_version text NOT NULL,

   /* The name of the release to which this version of the schema belongs. */
   release_name text NOT NULL
);

/* Stores users of RStudio Server */
CREATE TABLE licensed_users(

   /* The username associated with the user */
   user_name text NOT NULL,

   /* Whether or not the user is locked (disabled from signing in) */
   locked boolean NOT NULL DEFAULT 0,

   /* The date time when the user last signed in */
   last_sign_in text NOT NULL,

   /* Indicates whether the user is an admin to the licensed_users table */
   is_admin boolean NOT NULL DEFAULT 0, 

   /* The Posix/Operating-System-Level ID of the user */
   user_id integer NOT NULL DEFAULT -1,

   /* Auto incrementing ID for each user for internal FK relationships. */
   id integer PRIMARY KEY AUTOINCREMENT
);

/* Update the version to the latest after all alter statements are applied. */
INSERT INTO schema_version VALUES ('20210717175900325686759', 'Ghost Orchid');